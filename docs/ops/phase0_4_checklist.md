# –≠—Ç–∞–ø 0.4: –ß–µ–∫-–ª–∏—Å—Ç –æ–±–ª–∞—á–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é –æ–±–ª–∞—á–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è Go2Asia v2.

---

## ‚úÖ –ó–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞ 0.4

### 1. –î–æ–º–µ–Ω –∏ DNS

- [ ] **–î–æ–º–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω**
  - [ ] –î–æ–º–µ–Ω `go2asia.space` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω
  - [ ] –î–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ Cloudflare (DNS –∑–æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞)

- [ ] **DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã**
  - [ ] `go2asia.space` ‚Üí CNAME –Ω–∞ Netlify (production —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
  - [ ] `www.go2asia.space` ‚Üí CNAME –Ω–∞ `go2asia.space` (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
  - [ ] `staging.go2asia.space` ‚Üí CNAME –Ω–∞ Netlify staging
  - [ ] `api.go2asia.space` ‚Üí CNAME –Ω–∞ API Gateway Worker (production)
  - [ ] `staging-api.go2asia.space` ‚Üí CNAME –Ω–∞ API Gateway Worker (staging)
  - [ ] –í—Å–µ –∑–∞–ø–∏—Å–∏ –∏–º–µ—é—Ç –≤–∫–ª—é—á—ë–Ω–Ω–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ (üüß orange cloud)

### 2. Cloudflare CDN –∏ WAF

- [ ] **SSL/TLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
  - [ ] –†–µ–∂–∏–º: Full (strict)
  - [ ] Always Use HTTPS –≤–∫–ª—é—á–µ–Ω–æ
  - [ ] HSTS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏)

- [ ] **WAF –≤–∫–ª—é—á–µ–Ω**
  - [ ] OWASP Core Ruleset –≤–∫–ª—é—á–µ–Ω
  - [ ] Bot Fight Mode –≤–∫–ª—é—á–µ–Ω (–µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å SEO)
  - [ ] –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoint'–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
    - [ ] `/api/auth/*` - —Ä–µ–∂–∏–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    - [ ] `/api/payments/*` - —Ä–µ–∂–∏–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    - [ ] `/api/referral/*` - —Ä–µ–∂–∏–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

- [ ] **Rate Limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
  - [ ] `/api/auth/login` - 5 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç–∞
  - [ ] `/api/auth/send-code` - 3 –∑–∞–ø—Ä–æ—Å–∞/5 –º–∏–Ω—É—Ç
  - [ ] `/api/places/search` - 20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç–∞
  - [ ] `/api/events` - 60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç–∞

- [ ] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**
  - [ ] –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (`/_next/static/*`) –∫—ç—à–∏—Ä—É—é—Ç—Å—è (TTL: 1 –º–µ—Å—è—Ü)
  - [ ] API –∑–∞–ø—Ä–æ—Å—ã (`/api/*`) –Ω–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è (Bypass)
  - [ ] –ü—Ä–∞–≤–∏–ª–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ Page Rules –∏–ª–∏ Rulesets

### 3. Cloudflare R2 –¥–ª—è –º–µ–¥–∏–∞

- [ ] **R2 Bucket —Å–æ–∑–¥–∞–Ω/–ø—Ä–æ–≤–µ—Ä–µ–Ω**
  - [ ] Bucket `go2asia-media` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  - [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ (country/, city/, place/, event/, user/, blog/)

- [ ] **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
  - [ ] Custom Domain `media.go2asia.space` —Å–æ–∑–¥–∞–Ω –≤ R2
  - [ ] DNS –∑–∞–ø–∏—Å—å –¥–ª—è `media.go2asia.space` –¥–æ–±–∞–≤–ª–µ–Ω–∞
  - [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞)

- [ ] **Secrets –¥–ª—è R2 (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)**
  - [ ] `R2_ACCESS_KEY_ID` –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - [ ] `R2_SECRET_ACCESS_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 4. Cloudflare Workers

- [ ] **Workers –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–ø—É—Å—Ç—ã–µ)**
  - [ ] `go2asia-api-gateway-staging` —Å–æ–∑–¥–∞–Ω
  - [ ] `go2asia-api-gateway` —Å–æ–∑–¥–∞–Ω (production)
  - [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –º–æ–Ω–æ—Ä–µ–ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞:
    - [ ] `services/api-gateway/` —Å–æ–∑–¥–∞–Ω
    - [ ] –ë–∞–∑–æ–≤—ã–π `wrangler.toml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
    - [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `src/index.ts` —Å–æ–∑–¥–∞–Ω

- [ ] **–î–µ–ø–ª–æ–π Workers –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
  - [ ] GitHub Actions workflows –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –¥–µ–ø–ª–æ—è Workers
  - [ ] Secrets `CLOUDFLARE_API_TOKEN` –∏ `CLOUDFLARE_ACCOUNT_ID` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
  - [ ] –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
  - [ ] `docs/ops/cloudflare_setup.md` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –¥–æ–º–µ–Ω–æ–º `go2asia.space`
  - [ ] –†–∞–∑–¥–µ–ª –ø—Ä–æ R2 –¥–æ–±–∞–≤–ª–µ–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω
  - [ ] –†–∞–∑–¥–µ–ª –ø—Ä–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Workers –¥–æ–±–∞–≤–ª–µ–Ω
  - [ ] `docs/plans/PHASE_0_PROGRESS.md` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —ç—Ç–∞–ø–∞ 0.4

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **DNS —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**
   ```bash
   dig go2asia.space
   dig api.go2asia.space
   dig staging-api.go2asia.space
   ```

2. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:**
   - –û—Ç–∫—Ä—ã—Ç—å `https://go2asia.space` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS

3. **Workers –æ—Ç–≤–µ—á–∞—é—Ç:**
   - –û—Ç–∫—Ä—ã—Ç—å `https://api.go2asia.space` (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –±–∞–∑–æ–≤—ã–π –æ—Ç–≤–µ—Ç)
   - –û—Ç–∫—Ä—ã—Ç—å `https://staging-api.go2asia.space` (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –±–∞–∑–æ–≤—ã–π –æ—Ç–≤–µ—Ç)

4. **R2 –¥–æ—Å—Ç—É–ø–µ–Ω (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω):**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `https://media.go2asia.space` (–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å R2 bucket –∏–ª–∏ –æ—à–∏–±–∫—É 404, –Ω–æ –Ω–µ –æ—à–∏–±–∫—É DNS)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±—É—é—Ç –¥–µ–π—Å—Ç–≤–∏–π –≤ Cloudflare Dashboard (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DNS, WAF, R2)
- Workers –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ Wrangler CLI –∏–ª–∏ Cloudflare Dashboard
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ—Ç—Ä–∞–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2025-12-12

